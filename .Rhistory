df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
library(psych)
a <- statsBy(df_cor, df$coupleID)
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
warnings()
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
library(psych)
a <- statsBy(df_cor, df$coupleID)
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
summary(corrs)
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
library(psych)
a <- statsBy(df_cor, df$coupleID)
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
library(psych)
a <- statsBy(df_cor, df$coupleID)
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
summary(corrs)
summary(corrs)
library(psych)
a <- statsBy(df_cor, df$coupleID)
a$ICC1
summary(corrs)
a$ICC1
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
warnings()
library(wbCorr)
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
library(wbCorr)
weigh
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
library(psych)
a <- statsBy(df_cor, df$coupleID)
summary(corrs)
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = TRUE)
corrs
summary(corrs, which = c('w', 'b'))
library(psych)
a <- statsBy(df_cor, df$coupleID)
summary(corrs)
a$ICC1
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
library(psych)
a <- statsBy(df_cor, df$coupleID)
summary(corrs)
a$ICC1
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
library(wbCorr)
a$ICC1
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson')
corrs
summary(corrs, which = c('w', 'b'))
a$ICC1
summary(corrs, which = c('cb'))
summary(corrs, which = c('wb'))
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = TRUE)
corrs
summary(corrs, which = c('wb'))
a$ICC1
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = TRUE)
corrs
summary(corrs, which = c('wb'))
a$ICC1
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = TRUE)
corrs
summary(corrs, which = c('wb'))
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$ICC1
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
summary(corrs, which = c('wb'))
a$ICC1
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = TRUE)
summary(corrs, which = c('wb'))
a$ICC1
a
a$rbg
a$rbg
a$rbg
corrs@between$correlations
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
a$rbg
corrs@between$correlations
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$rbg
corrs@between$correlations
a$ICC1
corrs@ICC
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$rbg
corrs@between$correlations
corrs
summary(corrs, which = c('wb'))
a$ICC1
get_ICC(corr)
get_ICC(corrs)
class(get_ICC(corrs))
round(get_ICC(corrs))
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$rbg
corrs@between$correlations
a$rbg
corrs@between$correlations
a$ICC1
corrs@ICC
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$rbg
corrs@between$correlations
a$ICC1
corrs@ICC
plot(corrs, 'b', standardize = TRUE)
source("C:/Users/pascku/OneDrive/scripts/01 R-Packages/wbCorr/tests/testthat/Create_Tests.R", echo=TRUE)
data("simdat_intensive_longitudinal")
try(dat <- readRDS("C:\\Users\\pascku\\OneDrive\\scripts\\01 R-Packages\\within-between-correlations\\test_data_real_factors.rds"))
try(dat <- readRDS("C:\\Users\\kueng\\OneDrive\\scripts\\01 R-Packages\\within-between-correlations\\test_data_real_factors.rds"))
create_files <- function(data, cluster, type) {
# spearman
cors <- wbCorr(data,
cluster = cluster,
method = 'spearman',
)
saveRDS(get_table(cors), file = paste0('tests/testthat/testdata/exp_tables_spearman_',type,'.rds'))
saveRDS(summary(cors), file = paste0('tests/testthat/testdata/exp_matrices_spearman_',type,'.rds'))
# pearson
cors <- wbCorr(data,
cluster = cluster
)
saveRDS(get_table(cors), file = paste0('tests/testthat/testdata/exp_tables_pearson_',type,'.rds'))
saveRDS(summary(cors), file = paste0('tests/testthat/testdata/exp_matrices_pearson_',type,'.rds'))
# Jackknife
cors <- wbCorr(data,
cluster = cluster,
method = 'spearman-jackknife',
)
saveRDS(get_table(cors), file = paste0('tests/testthat/testdata/exp_tables_jackknife_',type,'.rds'))
saveRDS(summary(cors), file = paste0('tests/testthat/testdata/exp_matrices_jackknife_',type,'.rds'))
# boot spearman
cors <- wbCorr(data,
cluster = cluster,
method = 'spearman',
boot = TRUE
)
saveRDS(get_table(cors), file = paste0('tests/testthat/testdata/exp_tables_spearman_boot_',type,'.rds'))
# boot auto
cors <- wbCorr(data,
cluster = cluster,
method = 'auto',
boot = TRUE
)
saveRDS(get_table(cors), file = paste0('tests/testthat/testdata/exp_tables_auto_boot_',type,'.rds'))
# boot auto with 99% CI
cors <- wbCorr(data,
cluster = cluster,
method = 'auto',
boot = TRUE,
confidence_level = 0.99
)
saveRDS(get_table(cors), file = paste0('tests/testthat/testdata/exp_tables_auto99_boot_',type,'.rds'))
}
create_files(simdat_intensive_longitudinal,
'participantID',
'simdat')
create_files(dat,
'CoupleID',
'real')
print("done")
warnings()
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$rbg
corrs@between$correlations
a$ICC1
corrs@ICC
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
a$rbg
corrs@between$correlations
a$ICC1
corrs@ICC
library(wbCorr)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
library(wbCorr)
update_wbCorr()
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs, which = c('wb'))
summary(corrs, which = c('wb'))
summary(corrs)
corrs <- wbCorr(df_cor, df$coupleID, method = 'pearson', weighted_between_statistics = FALSE)
corrs
summary(corrs)
summary(corrs)
a$rbg
corrs@between$correlations
a$ICC1
corrs@ICC
a$rbg
plot(corrs, 'b', standardize = TRUE)
plot(corrs, 'b', standardize = FALSE)
plot(corrs)
plot(corrs, 'b')
plot(corrs, 'w')
data("simdat_intensive_longitudinal")
df_sim <- simdat_intensive_longitudinal
co <- wbCorr(df_sim, df_sim$participantID, method = 'pearson')
summary(co)
plot(co, 'b', standardize = TRUE, plot_NA = FALSE)
plot(co, 'b', standardize = TRUE, plot_NA = TRUE)
library(wbCorr)
cite('wbCorr')
citation('wbCorr')
a <- log(3.5)
a
exp(a)
exp(0)
log(0)
exp(1)
df <- readxl::read_xlsx(path = 'C:\\Users\\pascku\\OneDrive\\scripts\\Prepare Datasets\\Prepare-Datasets-1\\output\\wide_gender.xlsx')
names(df)
df_cor <- data.frame(coupleID = df$coupleID,
education_A = df$pre_education_A,
education_B = df$pre_education_B,
provided_psc_A = df$ss_psc_more_A,
received_psc_B = df$sp_psc_more_B,
provided_nsc_A = df$ss_nsc_more_A,
received_nsc_B = df$sp_nsc_more_B)
df_cor$education_A[1] <- NA
library(wbCorr)
update_wbCorr()
corrs <- wbCorr(df_cor, df$coupleID)
corrs
corrs
summary(corrs)
summary(corrs)
summary(corrs, 'w')
summary(corrs, 'wb')
summary(corrs)
summary(corrs)[1]
summary(corrs)
summary(corrs, 'wb')
summary(corrs, 'wb')[1]
summary(corrs, 'wb')
plot(corrs, 'between')
plot(corrs, 'w')
corrs <- wbCorr(df_cor[,c('provided_psc_A', 'provided_psc_B', 'provided_nsc_A','provided_nsc_B')], df$coupleID)
corrs <- wbCorr(df_cor, df$coupleID)
data("simdat_intensive_longitudinal")
df_sim <- simdat_intensive_longitudinal
co <- wbCorr(df_sim, df_sim$participantID)
summary(co)
summary(co)
summary(co,'wb')
plot(co, 'b', standardize = TRUE, plot_NA = FALSE)
plot(co, 'b', standardize = TRUE, plot_NA = FALSE)
plot(co, 'w', standardize = TRUE, plot_NA = TRUE)
